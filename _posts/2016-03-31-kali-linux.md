---
layout: post
date: 2016-03-31 09:30:52 +0300
title: "Знакомство с Kali Linux"
description: Знакомство с операционной системой Kali Linux. Краткий обзор доступных инструментов для пентестинга и обеспечения безопасности своего компьютера в сети.
keywords: kali linux, linux, безопасность, взлом
mood: happy
comments: true
category:
- linux
tags:

---

<figure>
    <img src="http://dubkov.xyz/assets/img/kali_linux.png" alt="Kali Linux"/>
</figure>

Построенная на базе Debian, Kali Linux стала классической и довольно популярной в вопросах проведения тестов на безопасность. На своем борту она имеет самые необходимые инструменты для различных задач. Предлагаю основательно разобраться в этом дистрибутиве, рассмотрим какие инструменты для обеспечения безопасности Kali Linux имеет из коробки.

<!--more-->

<h2>Kali Linux</h2>
<h4>Ранее, Backtrack. Краткий обзор операционной системы.</h4>
Kali Linux — GNU/Linux-LiveCD, возникший как результат слияния WHAX и Auditor Security Collection. Проект создали Мати Ахарони и Макс Мозер. Предназначен прежде всего для проведения тестов на безопасность. Kali Linux это более трёхсот различных инструментов, которые могут использоваться для аудита безопасности и обеспечения собственной безопасности.

Система разработана исключительно для тестов на проникновение. Хотя по большому счету является «двойным стандартом». Что это означает? Например, отвертка. Отвертка хороший и необходимый инструмент для повседневных бытовых задач. Но вспомните, сколько убийств было совершено с помощью отвертки? Так же и с Kali Linux, можно протестировать, а можно и дров наломать.

Установить Kali Linux, так же просто, как и другие дистрибутивы, основанные на базе Debian. Можно установить образ на флешку, а можно и <a href="http://dubkov.xyz/linux/kali-linux-install-virtualbox.html">на виртуальную машину</a> в среде Windows. Интерфейс операционной системы довольно привычный для тех, кто хотя бы раз пользовался Linux.

Но я хочу заострить внимание, на доступных разделах приложений, которые доступны во вкладке Applications. Если вы установили, последнюю версию Kali Linux, то стоит отметить, в сравнении с первой версии ОС, приложений стало немножко поменьше. Так вот, обратите внимание, как разработчики сгруппировали инструменты внутри Kali Linux.

<h3>Набор доступных инструментов для пентестинга</h3>

<h3>Favorites</h3>
<h4>Избранное</h4>
![Favorite Kali Linux](/assets/img/favorites.png)
Пользователь может добавлять в эту группу любые приложения и скрипты. Они будут доступны в левом сайдбаре на рабочем столе.

<h3>01 – Information Gathering</h3>
<h4>Сбор информации или «разведка»</h4>

![Information Gathering](/assets/img/01-kali-linux.png)

Неотъемлемая часть любого аудита по безопасности. Кто располагает информацией, тот владеет ситуацией. С данной группы инструментов начинается любое действие, которые вы желаете совершить, используя Kali Linux. Любой сетевой аудит или хакерская атака, начинается с разведки. Это основа. Зачастую сама разведка т.е. сбор информации занимает большее количество времени, чем эксплуатация уязвимостей. Поэтому, для того чтобы, провести какой-либо аудит или безопасность, нужно собрать всю необходимую информацию о «жертве».

Для примера сбора информации о цели, отлично подойдет приложение nmap. В этой же группе приложений Kali Linux, так же присутствует приложение с похожим названием zenmap. Их отличие только в том, что первая версия – «классическая» т.е. консольная, вторая версия имеет GUI-интерфейс, то есть это визуальная версия nmap.

Для наглядности, я буду использовать приложение с визуальным интерфейсом, и проведу аудит безопасности собственного IP-адреса. Копируем наш IP в zenmap, выбираем режим Intense Scan. Ожидаем окончания сканирования и внимательно рассматриваем полученную информацию.

![Zenmap: Intense Scan](/assets/img/zenmap.png)

<h3>02 – Vulnerability Analysis</h3>
<h4>Анализирование уязвимостей</h4>

![Vulnerability Analysis](/assets/img/02-kali-linux.png)

<h3>03 – Web Application Analysis</h3>
<h4>Анализирование веб-приложений</h4>

![Web Application Analysis](/assets/img/03-kali-linux.png)

Из названия группы, понятно, что дело мы будем иметь с анализом каких-либо веб-приложений. Например, здесь присутствует самый популярный скрипт для эксплуатации SQL-уязвимостей в веб-сайтах, и называется он – sqlmap.  Но для того, чтобы использовать какую-либо уязвимость, ее сначала нужно отыскать. Многие пользователи постоянно спрашивают, а каким образом можно просканировать сайт на уязвимости в Kali Linux, используя только стандартные средства системы? Попытаюсь продемонстрировать это на простом примере.

Открываем консоль и вызываем приложение uniscan. Странно ведь, почему этого приложения нет в группе 03? Не знаю.
С помощью Uniscan Project, можно проанализировать сайт, построить его дерево, какие файлы находятся внутри сайта и на его хостинге. У Uniscan Project, так же присутствует GUI-интерфейс, предназначенный для ленивых, новичков или тех, кто боится консоли. Стоит отметить, что на данный момент — это самый простой сканер уязвимостей для веб-сайтов. Специалисту необходимо всего лишь указать назначение для сканирования (т.е. домен сайта) и проставить галочки либо прописать в консоли, что необходимо выяснить при сканировании.

<h3>04 – Database Assessment</h3>
<h4>Оценка или «атака» базы данных</h4>

![Database Assessment](/assets/img/04-kali-linux.png)

Должно быть, вы уже нашли SQL-уязвимость на каком-либо веб-сайте или уже выгрузили БД, но не можете ее расшифровать. Данный раздел приходит вам на помощь и располагает всеми инструментами для этого. Например, чтобы получить визуальный доступ к базе данных, используйте SQLite Database Browser.

<h3>05 – Password Attacks</h3>  
<h4>Все для подбора паролей</h4>

![Password Attacks](/assets/img/05-kali-linux.png)

Исходя из названия, здесь располагаются программы для подбора и расшифровки самых различных паролей. В основном все доступные скрипты нацелены на bruteforce (подбор) паролей. Абсолютно неважно к чему вы будете подбирать пароль, к учетной записи администратора на сайте или же к беспроводной точке Wi-Fi. Главными и определяющими приложениями в этом разделе являются: medusa и ncrack. Например, medusa широко используется множеством хакеров для взлома SSH-туннелей.

<h3>06 – Wireless Attacks</h3>
<h4>Атаки на беспроводные сети</h4>

![Wireless Attacks](/assets/img/06-kali-linux.png)

И вот, мы подходим к моему любимому пункту, в котором содержится все необходимое для подбора паролей к беспроводным сетям. Доступные скрипты из коробки в Kali Linux, умеют разве что взламывать и подбирать пароли от Wi-Fi. PixieScript, например, использует уязвимость в протоколе WPS для получения пароля от беспроводной сети. Программ для проведения MitM-атак и «прослушки» траффика здесь нет.

<h3>07 – Reverse Engineering</h3>
<h4>«Инженерный анализ» или обратный инжиниринг</h4>

![Reverse Engineering](/assets/img/07-kali-linux.png)

Раздел обратный инжиниринг подойдет для проверки программ, содержащих в себе вредоносный код. Некоторые утилиты позволяют рассмотреть исходный код программ и найти в них вредоносный код. Например, программа apktool, позволяет посмотреть исходный код любого приложения для Android.

Ни для кого не секрет, что в сети очень много вредоносных приложений для смартфонов. Тем более, нередко игры для смартфона из Play Market содержат в себе вредоносный код. Модераторам из Goolge, просто лень проверять наличие вирусов, поэтому относитесь к установке любых приложений с осторожностью.

<h3>08 – Exploitation Tools</h3>
<h4>инструменты для эксплуатации уязвимостей</h4>

![Exploitation Tools](/assets/img/08-kali-linux.png)

В этом разделе собраны просто самые настощие инструменты-гиганты для хакинга и пентестинга. Здесь присутствуют два довольно неплохих продукта: это sqlmap, интересно зачем разработчики его распеределили в два раздела одновременно, и Metasploit Framework.

<h3>09 – Sniffing & Spoofing</h3>
<h4>Прослушка и подмена</h4>

![Sniffing & Spoofing](/assets/img/09-kali-linux.png)

Из этой группы инструментов, некоторые, вы могли видеть не только в Kali Linux. В основном здесь собраны утилиты для сниффинга и анализа трафика. Wireshark, Ettercap (многофункциональный инструмент) и mitmproxy знакомы абсолютно всем пользователям Linux. Например, утилита Ettercap, представленная в Kali Linux 2.0 уже в графическом интерфейсе, умеет не только прослушивать какой-либо трафик, но и обладает функцией изменения пакетов по вашему усмотрению и наличием возможности проведения атак типа «человек по середине» и др.

Я хотел бы остановится еще на одном моменте связанным со спуфингом. В Kali Linux есть одна интересный и очень полезный скрипт под названием: hping3. В основном данный скрипт используют для подмены IP адреса. Он очень популярен среди всех доступных инструментов для проведения DDoS –атак. Существует два типа подмены IP адреса: Blind IP Spoofing («слепая подмена» позволяет отправлять пакеты от имени другого адреса, но не имеет возможности получить ответ от сервера) и просто IP Spoofing (полная подмена).

Например, откроем консоль и напишем команду:

`hping3 –S –a "желаемый IP для подмены" --flood 80 "атакуемый IP"`

Мы попросили скрипт hping3 поработать в режиме flood от IP-адреса *любой* (можно указать абсолютно любой IP, неважно localhost ли это, или IP атакуемой цели). То есть скрипт будет флудить с помощью указанного IP-адреса (клиента) и IP адрес моего блога, например. Таким же образом можно атаковать какой-либо сайт, от имени другого сайта. А так же, как было указано выше, с помощью hping3 можно организовать DDoS.

<h3>10 – Post Exploitation</h3>
<h4>Все для эксплуатации XSS</h4>

![Post Exploitationg](/assets/img/10-kali-linux.png)

Данный набор программ необходим для эксплуатации XSS (Cross Site Scripting) уязвимостей.

<h3>11 – Forensics</h3>
<h4>«Судебно-медицинская экспертиза»</h4>

![Forensics](/assets/img/11-kali-linux.png)

Данный раздел напоминает, раздел под номером 07, здесь собраны программы для реверсинга, анализа файлов, сетевых соединений, служб и процессов. Анализировать свой ПК даже на наличие внешних устройств, узнать какие железки установлены в материнскую плату, возможно с помощью этого раздела в Kali Linux.

<h3>12 – Reporting Tools</h3>
<h4>Инструменты для отчетов</h4>

![Reporting Tools](/assets/img/12-kali-linux.png)

Здесь собраны утилиты для составления отчетов. Так же здесь присутствует софт для записи видео с экрана Kali Linux – remordmydesktop.

<h3>13 – System Services</h3>
<h4>Cистемные сервисы</h4>
![System Services](/assets/img/13-kali-linux.png)
В этом разделе присутствуют такие приложения как Beef (она же, говядина) используемая для тестирования на проникновение через веб-браузер и OpenVas для сканирования уязвимостей. Хорошо бы разобраться с этими инструментами сейчас, но еще не время. Мы обязательно вернемся и рассмотрим каждый из них.
<h3>Usual applications</h3>
Здесь система собирает для пользователя последние использованные приложения.
Рекомендую подробнее ознакомиться с каждым доступным инструментом операционной системы для обеспечения собственной безопасности.
